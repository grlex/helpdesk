{% extends 'main_template.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <style>

    </style>
{% endblock %}
{% if is_granted('ROLE_ADMIN') %}
    {% set visibleColumnNumbers=false %}
{% else %}
    {% set visibleColumnNumbers=[2,3,5,6,7] %}
{% endif %}
{% block content %}
    {% from 'table-panel-macro.html.twig' import table_panel %}
    {% set headers=['id','name','login','password','roles','department','position'] %}
    {{ table_panel({
        'headers': headers,
        'items': entities,
        'visibleColumnNumbers': visibleColumnNumbers,
        'newBaseUri': '/user/new',
        'editBaseUri': '/user/edit',
        'removeBaseUri': '/user/remove',
        'currentPage': currentPage,
        'totalPages': totalPages,
        'fieldsTrimming': {'password':12},
        'panelTitle': 'misc.users',
        'removeConfirmationMessage': 'items.remove-user.confirmation.%item%.%id%',
        'removeForm': removeForm
        })
    }}
{% endblock %}